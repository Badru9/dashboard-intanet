import{m as f,j as a,S as x,p as l}from"./app-0c5FR7Uu.js";import{K as h,L as b}from"./chunk-4SMPYVK4-D8boFYBv.js";import{t as v}from"./chunk-ORPGD37S-B3-0A5tV.js";import{b as d}from"./chunk-KCYYJJH4-BrXOhzVf.js";import"./chunk-SLABUSGS-B3_7zFLl.js";import"./useDialog-DDVQ5bQn.js";import"./useFocusRing-CD4N2T_R.js";import"./chunk-XPO5AVRM-DPbOQERC.js";import"./index-CokAva9Y.js";import"./features-animation-Da5nnqfS.js";import"./chunk-K6DFORPN-BZFrrvwL.js";const F=({invoice:p,onClose:n})=>{const o=new Date,c=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`,{data:e,setData:s,processing:m,errors:r}=f({note:"",paid_at:c}),u=t=>{t.preventDefault();const i=new FormData;i.append("note",e.note||""),i.append("paid_at",e.paid_at||""),x.post(route("invoices.mark-as-paid",p.id),i,{forceFormData:!0,onSuccess:()=>{n(),s({note:"",paid_at:""}),l({title:"Berhasil",description:"Invoice berhasil dikonfirmasi",color:"success"})},onError:g=>{console.log(g),l({title:"Gagal",description:"Invoice gagal dikonfirmasi",color:"danger"})}})};return a.jsx("div",{className:"mx-auto mt-5 h-fit w-full overflow-y-auto rounded-2xl bg-white text-slate-800 dark:bg-gray-900 dark:text-gray-100",children:a.jsxs("form",{onSubmit:u,className:"space-y-6 px-5 pb-5",children:[a.jsx("div",{className:"space-y-2",children:a.jsx(h,{label:"Tanggal Pembayaran",selectorButtonPlacement:"start",value:e.paid_at?b(e.paid_at):null,onChange:t=>t&&s("paid_at",t.toString()),isInvalid:!!r.paid_at,errorMessage:r.paid_at,isRequired:!0})}),a.jsx("div",{className:"space-y-2",children:a.jsx(v,{label:"Catatan (Opsional)",value:e.note,onChange:t=>s("note",t.target.value),className:"w-full",color:r.note?"danger":"default",errorMessage:r.note})}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx(d,{type:"button",color:"danger",variant:"flat",onPress:n,children:"Batal"}),a.jsx(d,{type:"submit",color:"primary",isLoading:m,children:"Konfirmasi"})]})]})})};export{F as default};

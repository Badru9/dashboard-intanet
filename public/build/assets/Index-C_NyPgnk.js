import{K as _,m as S,j as t,L as N,S as I,n as j}from"./app-Bvxdc6d4.js";import{A as M}from"./AuthenticatedLayout-SnJnJ-Cj.js";import{c as k}from"./chunk-MW56SEHC-D_jQvb9q.js";import{i as p}from"./chunk-HJTJQZF3-DHlmav6e.js";import{b as C}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./useDialog-BatGcOah.js";import"./chunk-SLABUSGS-BJzgDJw4.js";import"./useFocusRing-Tguq4vMu.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-OTWYT2HS-C2vY9Zs5.js";import"./chunk-K6DFORPN-Wo6Y1QXR.js";function F(){var d,c,m,g,h,v,x;const{settings:i}=_().props,{data:s,setData:f,processing:u,errors:a}=S({ppn:((d=i.find(e=>e.key==="ppn"))==null?void 0:d.value)||"",bph:((c=i.find(e=>e.key==="bph"))==null?void 0:c.value)||"",uso:((m=i.find(e=>e.key==="uso"))==null?void 0:m.value)||"",pph:((g=i.find(e=>e.key==="pph"))==null?void 0:g.value)||"",admin:((h=i.find(e=>e.key==="admin"))==null?void 0:h.value)||"",prtg:((v=i.find(e=>e.key==="prtg"))==null?void 0:v.value)||"",noc_24_jam:((x=i.find(e=>e.key==="noc_24_jam"))==null?void 0:x.value)||""}),l=(e,o)=>{let n=o.replace(".",",");n=n.replace(/[^\d,]/g,"");const r=n.split(",");r.length>2&&(n=r[0]+","+r.slice(1).join("")),r.length>1&&r[1].length>2&&(n=r[0]+","+r[1].slice(0,2)),f(e,n)},b=e=>{e.preventDefault();const o=Object.entries(s).reduce((n,[r,y])=>({...n,[r]:y.replace(",",".")}),{});I.patch(route("settings.update"),o,{onSuccess:()=>{j({title:"Success",description:"Settings updated successfully",color:"success"})},onError:()=>{j({title:"Error",description:"Failed to update settings",color:"danger"})}})};return t.jsxs(M,{children:[t.jsx(N,{title:"Settings"}),t.jsxs("div",{className:"p-4 lg:p-8",children:[t.jsx("h2",{className:"mb-5 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Pengaturan"}),t.jsx(k,{className:"p-6",children:t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsx(p,{type:"text",label:"PPN (%)",value:s.ppn,onChange:e=>l("ppn",e.target.value),isInvalid:!!a.ppn,errorMessage:a.ppn,required:!0}),t.jsx(p,{type:"text",label:"BPH (%)",value:s.bph,onChange:e=>l("bph",e.target.value),isInvalid:!!a.bph,errorMessage:a.bph,required:!0}),t.jsx(p,{type:"text",label:"USO (%)",value:s.uso,onChange:e=>l("uso",e.target.value),isInvalid:!!a.uso,errorMessage:a.uso,required:!0}),t.jsx(p,{type:"text",label:"PPH (%)",value:s.pph,onChange:e=>l("pph",e.target.value),isInvalid:!!a.pph,errorMessage:a.pph,required:!0}),t.jsx(p,{type:"text",label:"ADMIN (%)",value:s.admin,onChange:e=>l("admin",e.target.value),isInvalid:!!a.admin,errorMessage:a.admin,required:!0}),t.jsx(p,{type:"text",label:"PRTG (%)",value:s.prtg,onChange:e=>l("prtg",e.target.value),isInvalid:!!a.prtg,errorMessage:a.prtg,required:!0}),t.jsx(p,{type:"text",label:"NOC 24 Jam (%)",value:s.noc_24_jam,onChange:e=>l("noc_24_jam",e.target.value),isInvalid:!!a.noc_24_jam,errorMessage:a.noc_24_jam,required:!0})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(C,{type:"submit",color:"primary",disabled:u,children:u?"Menyimpan...":"Simpan Perubahan"})})]})})]})]})}export{F as default};

import{K as v,m as h,j as a,L as x,S as g,n as d}from"./app-Bvxdc6d4.js";import{h as o}from"./moment-C5S46NFB.js";import{s as m,l as c}from"./chunk-7JXO3E7I-B6Z0BSsU.js";import{b as p}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./useMenuTriggerState-Dz6-bjLW.js";import"./useDialog-BatGcOah.js";import"./chunk-SLABUSGS-BJzgDJw4.js";import"./useFocusRing-Tguq4vMu.js";import"./VisuallyHidden-CnFoNxsa.js";const f=Array.from({length:10},(l,t)=>String(o().year()+t)),y=[{value:"1",label:"Januari"},{value:"2",label:"Februari"},{value:"3",label:"Maret"},{value:"4",label:"April"},{value:"5",label:"Mei"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"Agustus"},{value:"9",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}];function A({onClose:l}){const{auth:t}=v().props,{data:s,setData:i,processing:n,errors:r}=h({creator:t.user.id,period_month:o().format("M"),period_year:o().format("YYYY")}),b=e=>{e.preventDefault(),g.post(route("invoices.store"),s,{onSuccess:()=>{l(),d({title:"Generate Invoice Berhasil",description:"Invoice berhasil dibuat",color:"success"})},onError:u=>{console.log("error",u),d({title:"Generate Invoice Gagal",description:u.message,color:"danger"})}})};return a.jsxs("div",{className:"mx-auto mt-5 h-fit w-full overflow-y-auto rounded-2xl bg-white text-slate-800 dark:bg-gray-900 dark:text-gray-100",children:[a.jsx(x,{title:"Generate Invoices"}),a.jsxs("form",{onSubmit:b,className:"space-y-6 px-5 pb-5",children:[a.jsxs("div",{className:"flex w-full gap-4",children:[a.jsx(m,{label:"Bulan",value:s.period_month,onChange:e=>i("period_month",e.target.value),isInvalid:!!r.period_month,errorMessage:r.period_month,children:y.map(e=>a.jsx(c,{textValue:e.label,children:e.label},e.value))}),a.jsx(m,{label:"Tahun",value:s.period_year,onChange:e=>i("period_year",e.target.value),isInvalid:!!r.period_year,errorMessage:r.period_year,children:f.map(e=>a.jsx(c,{textValue:e,children:e},e))})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Sistem akan membuat invoice untuk semua customer yang aktif pada bulan dan tahun yang dipilih."}),a.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[a.jsx(p,{onPress:l,color:"default",children:"Batal"}),a.jsx(p,{type:"submit",disabled:n,color:"primary",children:n?"Menggenerate...":"Generate Invoices"})]})]})]})}export{A as default};

import{r as g,c as W,$ as ua,f as We,a as Le,j as n,b as ca,d as Ue,e as Re,g as fa,h as ma,i as ce,u as va,k as ga,o as je,l as Y,A as ba,K as pa,S as ee,L as ha}from"./app-Bvxdc6d4.js";import{u as be,T as xa,m as Ie,a as Se,b as Ve,D as $a}from"./Table-DKWzgDek.js";import{D as _e}from"./constants-Cxi3XqCn.js";import{A as Da}from"./AuthenticatedLayout-SnJnJ-Cj.js";import{c as ue}from"./utils-dFnXFjxy.js";import{$ as Ca,a as ya,b as re,c as Pa,d as wa,e as Ra,f as Oe,g as pe,h as ja,i as Ia,j as Sa,k as Va,u as _a,l as He,C as Oa,m as ka,n as Ma,o as Ta,p as Fa,q as Ba,r as Na,s as Ea,t as he,v as xe,w as de,x as ke,y as Aa,z as Za,D as Wa,A as La,B as Ua,E as Ha,F as Me,G as Ka,H as Te,I as Ga,J as $e}from"./chunk-4SMPYVK4-CdNnZA8Z.js";import{P as Ya}from"./PencilSimple-CW6RHKoD.js";import{I as za,a as qa}from"./Trash-DhyFMmWh.js";import{h as Ja}from"./moment-C5S46NFB.js";import Qa from"./Create-BBl1jG_l.js";import Xa from"./Edit-B8EaIO80.js";import{$ as Ke,a as et,b as Fe,c as Be,d as Ne,e as at,u as tt,f as nt,F as lt}from"./chunk-SLABUSGS-BJzgDJw4.js";import{$ as De,a as rt,b as ot,c as it,d as st}from"./useDialog-BatGcOah.js";import{b as fe}from"./chunk-KCYYJJH4-DlcP0Khl.js";import{f as dt}from"./VisuallyHidden-CnFoNxsa.js";import{c as Ce}from"./chunk-MW56SEHC-D_jQvb9q.js";import{c as ye,a as Pe}from"./chunk-D5XJWRAV-DVG7Pod-.js";import{s as ut,l as ct}from"./chunk-7JXO3E7I-B6Z0BSsU.js";/* empty css            */import"./index-Dwla7vdz.js";import"./useFocusRing-Tguq4vMu.js";import"./index-CokAva9Y.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-OTWYT2HS-C2vY9Zs5.js";import"./features-animation-WuPvb1gZ.js";import"./chunk-HJTJQZF3-DHlmav6e.js";import"./chunk-K6DFORPN-Wo6Y1QXR.js";import"./chunk-ORPGD37S-DhA52hmi.js";function ft(e,a,m){let b=Ca(e,a),x=g.useRef(!1),y=g.useRef(typeof window<"u"?window:null);return De(y,"pointerdown",v=>{x.current=v.width===0&&v.height===0}),De(y,"pointerup",v=>{if(x.current){x.current=!1;return}if(a.setDragging(!1),!a.anchorDate)return;let t=v.target;m.current&&m.current.contains(document.activeElement)&&(!m.current.contains(t)||!t.closest('button, [role="button"]'))&&a.selectFocusedDate()}),b.calendarProps.onBlur=v=>{m.current&&(!v.relatedTarget||!m.current.contains(v.relatedTarget))&&a.anchorDate&&a.selectFocusedDate()},De(m,"touchmove",v=>{a.isDragging&&v.preventDefault()},{passive:!1,capture:!0}),b}function mt(e){let{value:a,defaultValue:m,onChange:b,createCalendar:x,locale:y,visibleDuration:$={months:1},minValue:v,maxValue:t,...o}=e,[u,h]=Ke(a,m||null,b),[D,R]=g.useState(null),P="center";if(u&&u.start&&u.end){let d=ya(re(u.start),$,y,v,t).add($).subtract({days:1});u.end.compare(d)>0&&(P="start")}let S=g.useRef(null),[f,O]=g.useState(null),c=g.useMemo(()=>Pa(v,f==null?void 0:f.start),[v,f]),T=g.useMemo(()=>wa(t,f==null?void 0:f.end),[t,f]),C=Ra({...o,value:u&&u.start,createCalendar:x,locale:y,visibleDuration:$,minValue:c,maxValue:T,selectionAlignment:P}),V=i=>{if(i&&e.isDateUnavailable&&!e.allowsNonContiguousRanges){const d=Ae(i,C,-1),s=Ae(i,C,1);S.current={start:d,end:s},O(S.current)}else S.current=null,O(null)},[F,E]=g.useState(C.visibleRange);(!Oe(C.visibleRange.start,F.start)||!Oe(C.visibleRange.end,F.end))&&(V(D),E(C.visibleRange));let j=i=>{i?(R(i),V(i)):(R(null),V(null))},k=D?we(D,C.focusedDate):u&&we(u.start,u.end),B=i=>{if(e.isReadOnly)return;const d=ja(i,c,T),s=Ia(d,C.visibleRange.start,e.isDateUnavailable);if(s)if(!D)j(s);else{let I=we(D,s);I&&h({start:Ee(I.start,u==null?void 0:u.start),end:Ee(I.end,u==null?void 0:u.end)}),j(null)}},[N,_]=g.useState(!1),{isDateUnavailable:w}=e,M=g.useMemo(()=>!u||D?!1:w&&(w(u.start)||w(u.end))?!0:pe(u.start,v,t)||pe(u.end,v,t),[w,u,D,v,t]),l=e.isInvalid||e.validationState==="invalid"||M;return{...C,value:u,setValue:h,anchorDate:D,setAnchorDate:j,highlightedRange:k,validationState:l?"invalid":null,isValueInvalid:l,selectFocusedDate(){B(C.focusedDate)},selectDate:B,highlightDate(i){D&&C.setFocusedDate(i)},isSelected(i){return!!(k&&i.compare(k.start)>=0&&i.compare(k.end)<=0&&!C.isCellDisabled(i)&&!C.isCellUnavailable(i))},isInvalid(i){var d,s;return C.isInvalid(i)||pe(i,(d=S.current)===null||d===void 0?void 0:d.start,(s=S.current)===null||s===void 0?void 0:s.end)},isDragging:N,setDragging:_}}function we(e,a){return!e||!a?null:(a.compare(e)<0&&([e,a]=[a,e]),{start:re(e),end:re(a)})}function Ee(e,a){return e=Sa(e,(a==null?void 0:a.calendar)||new Va),a&&"hour"in a?a.set(e):e}function Ae(e,a,m){let b=e.add({days:m});for(;(m<0?b.compare(a.visibleRange.start)>=0:b.compare(a.visibleRange.end)<=0)&&!a.isCellUnavailable(b);)b=b.add({days:m});if(a.isCellUnavailable(b))return b.add({days:-m})}function vt({buttonPickerProps:e,className:a,...m}){const{Component:b,slots:x,children:y,domRef:$,locale:v,showHelper:t,firstDayOfWeek:o,minValue:u,maxValue:h,weekdayStyle:D,visibleDuration:R,shouldFilterDOMProps:P,isHeaderExpanded:S,visibleMonths:f,disableAnimation:O,createCalendar:c,showMonthAndYearPickers:T,baseProps:C,getPrevButtonProps:V,getNextButtonProps:F,getErrorMessageProps:E,setIsHeaderExpanded:j,topContent:k,bottomContent:B,errorMessage:N,classNames:_,otherProps:w}=_a({...m,isRange:!0}),M=g.useRef(null),l=mt({...m,locale:v,minValue:u,maxValue:h,visibleDuration:R,createCalendar:!c||typeof c!="function"?He:c}),{title:r,calendarProps:i,prevButtonProps:d,nextButtonProps:s,errorMessageProps:I}=ft(m,l,$),A=W(_==null?void 0:_.base,a),K={...e,onPress:ua(e==null?void 0:e.onPress,()=>j(!S))},q=(Q={})=>({...C,Component:b,showHelper:t,firstDayOfWeek:o,topContent:k,bottomContent:B,buttonPickerProps:K,calendarRef:$,calendarProps:i,prevButtonProps:V(d),nextButtonProps:F(s),errorMessageProps:E(I),className:x.base({class:A}),errorMessage:N,...We(w,{enabled:P}),...Q}),J=g.useMemo(()=>({state:l,slots:x,headerRef:M,weekdayStyle:D,isHeaderExpanded:S,setIsHeaderExpanded:j,visibleMonths:f,showMonthAndYearPickers:T,classNames:_,disableAnimation:O}),[l,x,_,D,S,j,f,O,T]);return{Component:b,children:y,domRef:$,context:J,state:l,slots:x,title:r,classNames:_,getBaseCalendarProps:q}}var gt=Le(function(a,m){const{context:b,getBaseCalendarProps:x}=vt({...a,ref:m});return n.jsx(Oa,{value:b,children:n.jsx(ka,{...x()})})}),bt=gt;function pt(e){return e&&e.__esModule?e.default:e}function ht(e,a,m){var b,x,y;let $=ca(pt(Ta),"@react-aria/datepicker"),{isInvalid:v,validationErrors:t,validationDetails:o}=a.displayValidation,{labelProps:u,fieldProps:h,descriptionProps:D,errorMessageProps:R}=et({...e,labelElementType:"span",isInvalid:v,errorMessage:e.errorMessage||t}),P=h["aria-labelledby"]||h.id,{locale:S}=Ue(),f=a.formatValue(S,{month:"long"}),O=f?$.format("selectedRangeDescription",{startDate:f.start,endDate:f.end}):"",c=rt(O),T={"aria-label":$.format("startDate"),"aria-labelledby":P},C={"aria-label":$.format("endDate"),"aria-labelledby":P},V=Re(),F=Re(),E=Ma(a,m),j=[c["aria-describedby"],h["aria-describedby"]].filter(Boolean).join(" ")||void 0,k=g.useMemo(()=>ot(m,{accept:d=>d.id!==V}),[m,V]),B={[Ba]:k,[Fa]:"presentation","aria-describedby":j,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,granularity:e.granularity,shouldForceLeadingZeros:e.shouldForceLeadingZeros,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior},N=fa(e),_=g.useRef(!1),{focusWithinProps:w}=ma({...e,isDisabled:a.isOpen,onBlurWithin:d=>{let s=document.getElementById(F);if(!(s!=null&&s.contains(d.relatedTarget))){var I,A;_.current=!1,(I=e.onBlur)===null||I===void 0||I.call(e,d),(A=e.onFocusChange)===null||A===void 0||A.call(e,!1)}},onFocusWithin:d=>{if(!_.current){var s,I;_.current=!0,(s=e.onFocus)===null||s===void 0||s.call(e,d),(I=e.onFocusChange)===null||I===void 0||I.call(e,!0)}}}),M=g.useRef(Fe),l=g.useRef(Fe);var r,i;return{groupProps:ce(N,E,h,c,w,{role:"group","aria-disabled":e.isDisabled||null,"aria-describedby":j,onKeyDown(d){a.isOpen||e.onKeyDown&&e.onKeyDown(d)},onKeyUp(d){a.isOpen||e.onKeyUp&&e.onKeyUp(d)}}),labelProps:{...u,onClick:()=>{k.focusFirst()}},buttonProps:{...c,id:V,"aria-haspopup":"dialog","aria-label":$.format("calendar"),"aria-labelledby":`${V} ${P}`,"aria-describedby":j,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:F,"aria-labelledby":`${V} ${P}`},startFieldProps:{...T,...B,value:(r=(b=a.value)===null||b===void 0?void 0:b.start)!==null&&r!==void 0?r:null,onChange:d=>a.setDateTime("start",d),autoFocus:e.autoFocus,name:e.startName,[Be]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(d){M.current=d,a.updateValidation(Ne(d,l.current))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},endFieldProps:{...C,...B,value:(i=(x=a.value)===null||x===void 0?void 0:x.end)!==null&&i!==void 0?i:null,onChange:d=>a.setDateTime("end",d),name:e.endName,[Be]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(d){l.current=d,a.updateValidation(Ne(M.current,d))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},descriptionProps:D,errorMessageProps:R,calendarProps:{autoFocus:!0,value:!((y=a.dateRange)===null||y===void 0)&&y.start&&a.dateRange.end?a.dateRange:null,onChange:a.setDateRange,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,allowsNonContiguousRanges:e.allowsNonContiguousRanges,defaultFocusedValue:a.dateRange?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" ")},isInvalid:v,validationErrors:t,validationDetails:o}}function xt(e){var a,m;let b=it(e),[x,y]=Ke(e.value,e.defaultValue||null,e.onChange),[$,v]=g.useState(()=>x||{start:null,end:null});x==null&&$.start&&$.end&&($={start:null,end:null},v($));let t=x||$,o=r=>{v(r||{start:null,end:null}),X(r)?y(r):y(null)},u=(t==null?void 0:t.start)||(t==null?void 0:t.end)||e.placeholderValue||null,[h,D]=Na(u,e.granularity),R=h==="hour"||h==="minute"||h==="second";var P;let S=(P=e.shouldCloseOnSelect)!==null&&P!==void 0?P:!0,[f,O]=g.useState(null),[c,T]=g.useState(null);t&&X(t)&&(f=t,"hour"in t.start&&(c=t));let C=(r,i)=>{o({start:"timeZone"in i.start?i.start.set(re(r.start)):ke(r.start,i.start),end:"timeZone"in i.end?i.end.set(re(r.end)):ke(r.end,i.end)}),O(null),T(null),w.commitValidation()},V=r=>{let i=typeof S=="function"?S():S;R?X(r)&&(c!=null&&c.start)&&(c!=null&&c.end)?C(r,{start:(c==null?void 0:c.start)||de(e.placeholderValue),end:(c==null?void 0:c.end)||de(e.placeholderValue)}):O(r):X(r)?(o(r),w.commitValidation()):O(r),i&&b.setOpen(!1)},F=r=>{X(f)&&X(r)?C(f,r):T(r)},E=(t==null||(a=t.start)===null||a===void 0?void 0:a.calendar.identifier)==="gregory"&&t.start.era==="BC"||(t==null||(m=t.end)===null||m===void 0?void 0:m.calendar.identifier)==="gregory"&&t.end.era==="BC",j=g.useMemo(()=>({granularity:h,timeZone:D,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:E}),[h,e.hourCycle,e.shouldForceLeadingZeros,D,e.hideTimeZone,E]),{minValue:k,maxValue:B,isDateUnavailable:N}=e,_=g.useMemo(()=>Ea(t,k,B,N,j),[t,k,B,N,j]),w=at({...e,value:x,name:g.useMemo(()=>[e.startName,e.endName].filter(r=>r!=null),[e.startName,e.endName]),builtinValidation:_}),M=w.displayValidation.isInvalid,l=e.validationState||(M?"invalid":null);return{...w,value:t,setValue:o,dateRange:f,timeRange:c,granularity:h,hasTime:R,setDate(r,i){var d,s;V(r==="start"?{start:i,end:(d=f==null?void 0:f.end)!==null&&d!==void 0?d:null}:{start:(s=f==null?void 0:f.start)!==null&&s!==void 0?s:null,end:i})},setTime(r,i){var d,s;F(r==="start"?{start:i,end:(d=c==null?void 0:c.end)!==null&&d!==void 0?d:null}:{start:(s=c==null?void 0:c.start)!==null&&s!==void 0?s:null,end:i})},setDateTime(r,i){var d,s;o(r==="start"?{start:i,end:(d=t==null?void 0:t.end)!==null&&d!==void 0?d:null}:{start:(s=t==null?void 0:t.start)!==null&&s!==void 0?s:null,end:i})},setDateRange:V,setTimeRange:F,...b,setOpen(r){!r&&!(t!=null&&t.start&&(t!=null&&t.end))&&X(f)&&R&&C(f,{start:(c==null?void 0:c.start)||de(e.placeholderValue),end:(c==null?void 0:c.end)||de(e.placeholderValue)}),b.setOpen(r)},validationState:l,isInvalid:M,formatValue(r,i){if(!t||!t.start||!t.end)return null;let d="timeZone"in t.start?t.start.timeZone:void 0,s=e.granularity||(t.start&&"minute"in t.start?"minute":"day"),I="timeZone"in t.end?t.end.timeZone:void 0,A=e.granularity||(t.end&&"minute"in t.end?"minute":"day"),K=he(i,{granularity:s,timeZone:d,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,showEra:t.start.calendar.identifier==="gregory"&&t.start.era==="BC"||t.end.calendar.identifier==="gregory"&&t.end.era==="BC"}),q=t.start.toDate(d||"UTC"),J=t.end.toDate(I||"UTC"),Q=new xe(r,K),ae;if(d===I&&s===A&&t.start.compare(t.end)!==0){try{let G=Q.formatRangeToParts(q,J),te=-1;for(let Z=0;Z<G.length;Z++){let ne=G[Z];if(ne.source==="shared"&&ne.type==="literal")te=Z;else if(ne.source==="endRange")break}let oe="",ie="";for(let Z=0;Z<G.length;Z++)Z<te?oe+=G[Z].value:Z>te&&(ie+=G[Z].value);return{start:oe,end:ie}}catch{}ae=Q}else{let G=he(i,{granularity:A,timeZone:I,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle});ae=new xe(r,G)}return{start:Q.format(q),end:ae.format(J)}},getDateFormatter(r,i){let d={...j,...i},s=he({},d);return new xe(r,s)}}}function X(e){return(e==null?void 0:e.start)!=null&&e.end!=null}var $t=g.forwardRef(function(a,m){const{as:b,slots:x,createCalendar:y,classNames:$,...v}=a,t=b||"div",o=va(m),{locale:u}=Ue();let h=Aa({...v,locale:u,createCalendar:!y||typeof y!="function"?He:y});const D=g.useRef(null),{fieldProps:R,inputProps:P,isInvalid:S}=Za({...v,inputRef:D},h,o),f=a.isInvalid||S;return h.isInvalid=f,n.jsxs(t,{...ce(R,We(v)),ref:o,children:[h.segments.map((O,c)=>n.jsx(Wa,{classNames:$,segment:O,slots:x,state:h},c)),n.jsx("input",{...P,ref:D})]})}),Ze=$t;function Dt({as:e,label:a,isInvalid:m,description:b,startContent:x,endContent:y,selectorIcon:$,errorMessage:v,className:t,classNames:o,...u}){var h,D,R;const P=ga(),{validationBehavior:S}=tt(lt)||{},f=(R=(D=(h=u.validationBehavior)!=null?h:S)!=null?D:P==null?void 0:P.validationBehavior)!=null?R:"native",{domRef:O,slotsProps:c,createCalendar:T,stringFormatter:C,timeMinValue:V,timeMaxValue:F,isCalendarHeaderExpanded:E,disableAnimation:j,CalendarTopContent:k,CalendarBottomContent:B,timeInputProps:N,popoverProps:_,calendarProps:w,variantProps:M,userTimeInputProps:l,hasMultipleMonths:r,selectorButtonProps:i,selectorIconProps:d}=La({...u,validationBehavior:f});let s=xt({...u,validationBehavior:f,shouldCloseOnSelect:()=>!s.hasTime});const I=g.useRef(null);let{groupProps:A,labelProps:K,startFieldProps:q,endFieldProps:J,buttonProps:Q,dialogProps:ae,calendarProps:G,validationDetails:te,validationErrors:oe,descriptionProps:ie,errorMessageProps:Z,isInvalid:ne}=ht({...u,validationBehavior:f},s,O);const se=m||ne,L=g.useMemo(()=>Ua({...M,className:t}),[je(M),t]),me=s.granularity==="hour"||s.granularity==="minute"||s.granularity==="second"?s.granularity:null,ve=!!me,ge=nt({labelPlacement:u.labelPlacement,label:a}),Ge=ge==="outside"||ge==="outside-left",Ye=()=>{var p,H,z;return ve?{...N,label:C.format("startTime"),value:((p=s.timeRange)==null?void 0:p.start)||null,onChange:le=>s.setTime("start",le),granularity:me,minValue:V,maxValue:F,classNames:{base:L.timeInput({class:W(o==null?void 0:o.timeInput,(H=l==null?void 0:l.classNames)==null?void 0:H.base)}),label:L.timeInputLabel({class:W(o==null?void 0:o.timeInputLabel,(z=l==null?void 0:l.classNames)==null?void 0:z.label)})}}:{}},ze=()=>{var p,H,z;return ve?{...N,label:C.format("endTime"),value:((p=s.timeRange)==null?void 0:p.end)||null,onChange:le=>s.setTime("end",le),granularity:me,minValue:V,maxValue:F,classNames:{base:L.timeInput({class:W(o==null?void 0:o.timeInput,(H=l==null?void 0:l.classNames)==null?void 0:H.base)}),label:L.timeInputLabel({class:W(o==null?void 0:o.timeInputLabel,(z=l==null?void 0:l.classNames)==null?void 0:z.label)})}}:{}},qe=(p={})=>{var H,z;return{state:s,dialogProps:ae,...p,..._,triggerRef:I,classNames:{content:L.popoverContent({class:W(o==null?void 0:o.popoverContent,(z=(H=c.popoverProps)==null?void 0:H.classNames)==null?void 0:z.content,p.className)}),shouldCloseOnInteractOutside:_!=null&&_.shouldCloseOnInteractOutside?_.shouldCloseOnInteractOutside:le=>st(le,I,s)}}},Je=()=>{var p,H;return{...G,...w,classNames:{...w.classNames,base:L.calendar({class:Me((p=w==null?void 0:w.classNames)==null?void 0:p.base,o==null?void 0:o.calendar)}),content:L.calendarContent({class:Me((H=w==null?void 0:w.classNames)==null?void 0:H.content,o==null?void 0:o.calendarContent)})}}},Qe=()=>({...Q,...i,onPress:s.toggle,className:L.selectorButton({class:o==null?void 0:o.selectorButton})}),Xe=()=>({"data-slot":"separator",className:L.separator({class:o==null?void 0:o.separator})}),ea=()=>({...d,className:L.selectorIcon({class:o==null?void 0:o.selectorIcon})}),aa=W(o==null?void 0:o.base,t),U=g.useMemo(()=>Ha({...M,labelPlacement:ge}),[je(M)]),ta=(p={})=>({...q,isInvalid:se,"data-slot":"start-input",slots:U,createCalendar:T,...ce(M,q,{fullWidth:!0,disableAnimation:j}),"data-open":Y(s.isOpen),classNames:o,style:{...p.style,maxWidth:"fit-content"},className:U.input({class:W(o==null?void 0:o.input,p==null?void 0:p.className)})}),na=(p={})=>({...J,isInvalid:se,"data-slot":"end-input",slots:U,createCalendar:T,...ce(M,J,{fullWidth:!0,disableAnimation:j}),"data-open":Y(s.isOpen),classNames:o,className:U.input({class:W(o==null?void 0:o.input,p==null?void 0:p.className)})}),la=p=>({...p,...K,"data-slot":"label",className:U.label({class:W(o==null?void 0:o.label,void 0)})}),ra=(p={})=>({ref:O,...p,...A,"data-slot":"input-wrapper",className:U.inputWrapper({class:o==null?void 0:o.inputWrapper}),onClick:K.onClick}),oa=p=>({...p,ref:I,"data-slot":"inner-wrapper",className:U.innerWrapper({class:o==null?void 0:o.innerWrapper})}),ia=p=>({...p,"data-slot":"helper-wrapper",className:U.helperWrapper({class:W(o==null?void 0:o.helperWrapper,void 0)})}),sa=(p={})=>({...p,...Z,"data-slot":"error-message",className:U.errorMessage({class:W(o==null?void 0:o.errorMessage,p==null?void 0:p.className)})}),da=(p={})=>({...p,...ie,"data-slot":"description",className:U.description({class:W(o==null?void 0:o.description,p==null?void 0:p.className)})});return{state:s,label:a,slots:L,classNames:o,startContent:x,endContent:y,selectorIcon:$,showTimeField:ve,isCalendarHeaderExpanded:E,disableAnimation:j,CalendarTopContent:k,CalendarBottomContent:B,getStartDateInputProps:ta,getEndDateInputProps:na,getStartTimeInputProps:Ye,getEndTimeInputProps:ze,getPopoverProps:qe,getSelectorButtonProps:Qe,getCalendarProps:Je,getSeparatorProps:Xe,getSelectorIconProps:ea,getDateInputGroupProps:()=>({as:e,label:a,description:b,endContent:y,errorMessage:v,isInvalid:se,validationDetails:te,validationErrors:oe,shouldLabelBeOutside:Ge,"data-slot":"base","data-required":Y(u.isRequired),"data-disabled":Y(u.isDisabled),"data-readonly":Y(u.isReadOnly),"data-invalid":Y(se),"data-has-start-content":Y(!!x),"data-has-multiple-months":Y(r),"data-has-end-content":Y(!!y),descriptionProps:da(),errorMessageProps:sa(),groupProps:ra(),helperWrapperProps:ia(),labelProps:la(),wrapperProps:oa(),className:U.base({class:aa})})}}var Ct=Le(function(a,m){const{selectorButtonPlacement:b="end",...x}=a,{state:y,slots:$,startContent:v,endContent:t,selectorIcon:o,showTimeField:u,classNames:h,disableAnimation:D,isCalendarHeaderExpanded:R,getDateInputGroupProps:P,getStartDateInputProps:S,getEndDateInputProps:f,getPopoverProps:O,getSeparatorProps:c,getStartTimeInputProps:T,getEndTimeInputProps:C,getSelectorButtonProps:V,getSelectorIconProps:F,getCalendarProps:E,CalendarTopContent:j,CalendarBottomContent:k}=Dt({...x,ref:m}),B=g.isValidElement(o)?g.cloneElement(o,F()):n.jsx(Ka,{...F()}),N=g.useMemo(()=>R?null:u?n.jsxs("div",{className:$==null?void 0:$.bottomContent({class:h==null?void 0:h.bottomContent}),children:[n.jsxs("div",{className:$==null?void 0:$.timeInputWrapper({class:h==null?void 0:h.timeInputWrapper}),children:[n.jsx(Te,{...T()}),n.jsx(Te,{...C()})]}),k]}):k,[y,u,k,R]),_=g.useMemo(()=>R?null:j,[u,j,R]),w=y.isOpen?n.jsx(dt,{...O(),offset:20,children:n.jsx(bt,{...E(),bottomContent:N,topContent:_})}):null,M={...P(),endContent:b==="end"?n.jsx(fe,{...V(),children:t||B}):t,startContent:b==="start"?n.jsx(fe,{...V(),children:v||B}):v};return n.jsxs(n.Fragment,{children:[n.jsxs(Ga,{...M,children:[n.jsx(Ze,{...S()}),n.jsx("span",{...c(),"aria-hidden":"true",role:"separator",children:"-"}),n.jsx(Ze,{...f()})]}),D?w:n.jsx(ba,{children:w})]})}),yt=Ct;function en(){const{cashflows:e,categories:a,auth:m}=pa().props;console.log("cashflows with date range",e);const{isOpen:b,onOpen:x,onOpenChange:y}=be(),{isOpen:$,onOpen:v,onOpenChange:t}=be(),{isOpen:o,onOpen:u,onOpenChange:h}=be(),[D,R]=g.useState(null),[P,S]=g.useState(null),f=new $e(new Date().getFullYear(),new Date().getMonth()+1,new Date().getDate()),O=new $e(new Date().getFullYear(),new Date().getMonth(),new Date().getDate()),[c,T]=g.useState({start:O,end:f});console.log("selectedDateRange",c);const C=[..._e,...a];g.useEffect(()=>{const l=new Date(O.toString());l.setHours(0,0,0,0);const r=new Date(f.toString());r.setHours(23,59,59,999);const i={date_range:{startDate:l.toISOString(),endDate:r.toISOString()}};ee.get(route("cashflows.index"),i,{preserveState:!0})},[]);const V=l=>{console.log(l),R(l),v()},F=l=>{R(l),u()},E=()=>{D&&ee.delete(route("cashflows.destroy",D.id),{onSuccess:()=>{h(),R(null)}})},j=l=>{S(l);const r={};l&&l!=="all"&&(r.category=l),T({start:f,end:f}),ee.get(route("cashflows.index"),r,{preserveState:!0})},k=l=>{const r=new $e(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());if(!l){T({start:r,end:r});const I=new Date(r.toString());I.setHours(0,0,0,0);const A=new Date(r.toString());A.setHours(23,59,59,999);const K={date_range:{startDate:I.toISOString(),endDate:A.toISOString()}};P!=="all"&&(K.category=P),ee.get(route("cashflows.index"),K,{preserveState:!0});return}T({start:l.start,end:l.end});const i=new Date(l.start.toString());i.setHours(0,0,0,0);const d=new Date(l.end.toString());d.setHours(23,59,59,999);const s={date_range:{startDate:i.toISOString(),endDate:d.toISOString()}};P!=="all"&&(s.category=P),ee.get(route("cashflows.index"),s,{preserveState:!0})},B=[{header:"Kategori",value:l=>l.category?l.category.name:_e[1].name},{header:"Invoice",value:l=>{var r;return(r=l.invoice)==null?void 0:r.invoice_id}},{header:"Customer",value:l=>{var r;return(r=l.customer)==null?void 0:r.name}},{header:"Jumlah",value:l=>ue(l.amount)},{header:"Tipe",value:l=>{var r;return((r=l.category)==null?void 0:r.is_out)===1?"Outcome":"Income"}},{header:"Catatan",value:l=>l.note||"-"},{header:"Tanggal",value:l=>Ja(l.date).format("DD MMMM YYYY")}],N=e.data.reduce((l,r)=>{var i;return((i=r.category)==null?void 0:i.is_out)===1?l.outcome+=Number(r.amount):l.income+=Number(r.amount),l},{income:0,outcome:0}),_=N.income-N.outcome,w=[...B,{header:"Aksi",value:l=>n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>V(l),className:"cursor-pointer rounded-lg p-2 text-yellow-400 transition-colors hover:bg-yellow-400 hover:text-white",children:n.jsx(Ya,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>F(l),className:"cursor-pointer rounded-lg p-2 text-red-600 transition-colors hover:bg-red-600 hover:text-white",children:n.jsx(qa,{className:"h-4 w-4"})})]})}],M=l=>{ee.get(route("cashflows.index"),{page:l},{preserveState:!0,replace:!0})};return n.jsxs(Da,{children:[n.jsx(ha,{title:"Cashflows"}),n.jsxs("div",{className:"p-4 lg:p-8",children:[n.jsx("h2",{className:"mb-5 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Arus Kas"}),n.jsxs("div",{className:"mb-6 flex flex-col items-center gap-4 lg:flex-row lg:items-center",children:[n.jsxs("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-center",children:[n.jsx("div",{className:"relative w-full lg:w-64",children:n.jsx(ut,{label:"Filter Kategori",placeholder:"Pilih Kategori",className:"w-full",color:"default",variant:"bordered",radius:"md",items:C,selectedKeys:P?[P]:[],onSelectionChange:l=>j(Array.from(l)[0]),children:l=>n.jsx(ct,{textValue:l.name,children:l.name},String(l.id))})}),n.jsx("div",{className:"relative w-full lg:w-64",children:n.jsx(yt,{showMonthAndYearPickers:!0,label:"Filter Tanggal",color:"default",variant:"bordered",radius:"md",visibleMonths:2,selectorButtonPlacement:"start",value:c,onChange:l=>k(l),CalendarBottomContent:n.jsx("div",{className:"flex items-center justify-end px-3 py-2",children:n.jsx(fe,{onPress:()=>k(null),color:"danger",radius:"full",variant:"flat",size:"sm",children:"Clear"})})})})]}),m.user.is_admin===1&&n.jsx("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-center lg:justify-end",children:n.jsxs(fe,{onPress:x,color:"primary",children:[n.jsx(za,{className:"h-5 w-5"}),"Input Arus Kas"]})})]}),n.jsx(Pt,{totals:N,totalBalance:_}),n.jsx(xa,{column:m.user.is_admin===1?w:B,data:e.data,pagination:{...e,last_page:e.last_page,current_page:e.current_page,onChange:M}})]}),n.jsx(Ie,{isOpen:b,onOpenChange:y,size:"sm",children:n.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30 dark:bg-black/30",children:n.jsxs(Se,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[n.jsx(Ve,{children:n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Input Arus Kas"})}),n.jsx(Qa,{onClose:()=>y()})]})})}),n.jsx(Ie,{isOpen:$,onOpenChange:t,size:"sm",children:n.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30 dark:bg-black/30",children:n.jsxs(Se,{className:"relative w-full max-w-sm rounded-2xl bg-white p-0 dark:bg-gray-900",children:[n.jsx(Ve,{children:n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit Cashflow"})}),n.jsx(Xa,{cashflow:D,onClose:()=>t()})]})})}),n.jsx($a,{isOpen:o,onClose:h,onConfirm:E,title:"Hapus Data",description:"Apakah anda yakin ingin menghapus data ini?"})]})}const Pt=({totals:e,totalBalance:a})=>n.jsxs("div",{className:"my-4 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[n.jsxs(Ce,{className:"bg-white dark:bg-slate-900",shadow:"none",children:[n.jsx(ye,{className:"pb-0",children:n.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-400",children:"Pemasukan"})}),n.jsx(Pe,{children:n.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:ue(e.income)})})]}),n.jsxs(Ce,{className:"bg-white dark:bg-slate-900",shadow:"none",children:[n.jsx(ye,{className:"pb-0",children:n.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:"Pengeluaran"})}),n.jsx(Pe,{children:n.jsx("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:ue(e.outcome)})})]}),n.jsxs(Ce,{className:"bg-white dark:bg-slate-900",shadow:"none",children:[n.jsx(ye,{className:"pb-0",children:n.jsx("h3",{className:`text-sm font-medium ${a>=0?"text-blue-800 dark:text-blue-400":"text-orange-800 dark:text-orange-400"}`,children:"Total"})}),n.jsx(Pe,{children:n.jsx("p",{className:`text-2xl font-semibold ${a>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:ue(a)})})]})]});export{en as default};

import{K as v,r as l,j as e,L as w,S as m}from"./app-Bvxdc6d4.js";import{u as _,T as O,m as h,a as x,b as p,D}from"./Table-DKWzgDek.js";import{D as M}from"./constants-Cxi3XqCn.js";import{A as S}from"./AuthenticatedLayout-SnJnJ-Cj.js";import{P as K}from"./PencilSimple-CW6RHKoD.js";import T from"./Create-CUz36CZD.js";import A from"./Edit-fFX9hTB9.js";import{c as g}from"./createLucideIcon-IMW1K-fz.js";import{b as E}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./chunk-SLABUSGS-BJzgDJw4.js";import"./index-Dwla7vdz.js";import"./useDialog-BatGcOah.js";import"./useFocusRing-Tguq4vMu.js";import"./index-CokAva9Y.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-OTWYT2HS-C2vY9Zs5.js";import"./chunk-HJTJQZF3-DHlmav6e.js";import"./chunk-K6DFORPN-Wo6Y1QXR.js";import"./chunk-ORPGD37S-DhA52hmi.js";import"./chunk-7JXO3E7I-B6Z0BSsU.js";import"./VisuallyHidden-CnFoNxsa.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],L=g("Plus",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],I=g("Trash2",z);function le(){const{categories:s,auth:i}=v().props,[u,r]=l.useState(!1),[f,n]=l.useState(!1),[a,o]=l.useState(null),{isOpen:j,onOpen:y,onOpenChange:c}=_(),d=[{header:"Nama",value:t=>e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:t.name})},{header:"Tipe",value:t=>t.is_out==1?e.jsx("span",{className:"text-red-500 dark:text-red-400",children:"Pengeluaran"}):e.jsx("span",{className:"text-green-500 dark:text-green-400",children:"Pemasukan"})},{header:"Catatan",value:t=>e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:t.note})}],C=[...d,{header:"Aksi",value:t=>e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{o(t),n(!0)},className:"cursor-pointer rounded-lg p-2 text-yellow-400 transition-colors hover:bg-yellow-400 hover:text-white",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{k(t)},className:"cursor-pointer rounded-lg p-2 text-red-600 transition-colors hover:bg-red-600 hover:text-white",children:e.jsx(I,{className:"h-4 w-4"})})]})}],k=t=>{o(t),y()},b=()=>{a&&m.delete(`/cashflow-categories/${a.id}`,{onSuccess:()=>{c(),o(null),console.log("Kategori berhasil dihapus")}})},N=t=>{m.get(route("cashflow-categories.index"),{page:t},{preserveState:!0,replace:!0})};return e.jsxs(S,{children:[e.jsx(w,{title:"Cashflows Categories"}),e.jsxs("div",{className:"p-4 lg:p-8",children:[e.jsx("h2",{className:"mb-5 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Kategori Kas"}),i.user.is_admin===1&&e.jsx("div",{className:"mb-6 flex flex-col items-center gap-4 lg:flex-row lg:items-center lg:justify-between",children:e.jsx("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-center lg:justify-end",children:e.jsxs(E,{onPress:()=>r(!0),color:"primary",children:[e.jsx(L,{className:"h-5 w-5"}),"Tambah Kategori"]})})}),e.jsx(O,{column:i.user.is_admin===1?C:d,data:[M[0],...s.data],pagination:{...s,last_page:s.last_page,current_page:s.current_page,onChange:N}}),e.jsx(h,{isOpen:u,onOpenChange:r,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs(x,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(p,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Tambah Kategori"})}),e.jsx(T,{onClose:()=>r(!1)})]})})}),e.jsx(h,{isOpen:f,onOpenChange:n,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs(x,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(p,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit Kategori"})}),a&&e.jsx(A,{category:a,onClose:()=>n(!1)})]})})}),e.jsx(D,{isOpen:j,onClose:c,onConfirm:b,title:"Hapus Kategori",description:`Apakah Anda yakin ingin menghapus kategori ${a==null?void 0:a.name}?`})]})]})}export{le as default};

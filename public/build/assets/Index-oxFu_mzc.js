import{K as I,r as l,j as e,L as A,S as c}from"./app-Bvxdc6d4.js";import{u as d,T as L,m as u,a as g,b as f,D as z}from"./Table-DKWzgDek.js";import{A as T}from"./AuthenticatedLayout-SnJnJ-Cj.js";import{c as F}from"./utils-dFnXFjxy.js";import{w as H}from"./MagnifyingGlass-vs-NybI-.js";import{P as K}from"./PencilSimple-CW6RHKoD.js";import{I as M,a as $}from"./Trash-DhyFMmWh.js";import R from"./Create-CrCdIS_l.js";import q from"./Edit-BUivnFWR.js";import{i as B}from"./chunk-HJTJQZF3-DHlmav6e.js";import{b as G}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./chunk-SLABUSGS-BJzgDJw4.js";import"./index-Dwla7vdz.js";import"./useDialog-BatGcOah.js";import"./useFocusRing-Tguq4vMu.js";import"./index-CokAva9Y.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-OTWYT2HS-C2vY9Zs5.js";import"./chunk-K6DFORPN-Wo6Y1QXR.js";function pe(){const{packages:s,filters:n,auth:o}=I().props,{isOpen:j,onOpen:k,onOpenChange:m}=d(),{isOpen:y,onOpen:p,onOpenChange:C}=d(),{isOpen:v,onOpen:b,onOpenChange:x}=d(),[t,i]=l.useState(null),[r,N]=l.useState((n==null?void 0:n.search)||""),O=l.useMemo(()=>r?s.data.filter(a=>a.name.toLowerCase().includes(r.toLowerCase())):s.data,[s.data,r]),w=a=>{i(a),p()},P=a=>{i(a),b()},_=()=>{t&&c.delete(route("internet-packages.destroy",t.id),{onSuccess:()=>{x(),i(null)}})},h=[{header:"ID",value:a=>e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.id})},{header:"Nama Paket",value:a=>e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.name})},{header:"Kecepatan",value:a=>e.jsxs("span",{className:"text-gray-500 dark:text-gray-300",children:[a.speed," Mbps"]})},{header:"Harga",value:a=>e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:F(a.price)})}],D=[...h,{header:"Aksi",value:a=>e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>w(a),className:"cursor-pointer rounded-lg p-2 text-yellow-400 transition-colors hover:bg-yellow-400 hover:text-white",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>P(a),className:"cursor-pointer rounded-lg p-2 text-red-600 transition-colors hover:bg-red-600 hover:text-white",children:e.jsx($,{className:"h-4 w-4"})})]})}],S=a=>{N(a.target.value),c.get(route("internet-packages.index"),{search:a.target.value},{preserveState:!0,replace:!0})},E=a=>{c.get(route("internet-packages.index"),{page:a},{preserveState:!0,replace:!0})};return e.jsxs(T,{children:[e.jsx(A,{title:"Internet Packages"}),e.jsxs("div",{className:"p-4 lg:p-8",children:[e.jsx("h2",{className:"mb-5 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Paket Internet"}),e.jsx("div",{className:"mb-6 flex flex-col items-center gap-4 lg:flex-row lg:items-center lg:justify-between",children:e.jsxs("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-center lg:justify-end",children:[e.jsx("div",{className:"relative w-full lg:w-auto",children:e.jsx(B,{startContent:e.jsx(H,{className:"h-4 w-4 text-gray-400"}),type:"text",placeholder:"Cari paket...",value:r,onChange:S,color:"default",variant:"bordered",radius:"md"})}),o.user.is_admin===1&&e.jsxs(G,{onPress:k,color:"primary",children:[e.jsx(M,{className:"h-5 w-5"}),"Tambah Paket"]})]})}),e.jsx(L,{data:O,column:o.user.is_admin===1?D:h,pagination:{...s,last_page:s.last_page,current_page:s.current_page,onChange:E}}),o.user.is_admin===1&&e.jsxs(e.Fragment,{children:[e.jsx(u,{isOpen:j,onOpenChange:m,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs(g,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(f,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Tambah Paket"})}),e.jsx(R,{onClose:()=>m()})]})})}),e.jsx(u,{isOpen:y,onOpenChange:p,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs(g,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(f,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit Paket"})}),t&&e.jsx(q,{package:t,onClose:()=>C()})]})})}),e.jsx(z,{isOpen:v,onClose:x,onConfirm:_,title:"Hapus Paket",description:`Apakah Anda yakin ingin menghapus paket ${t==null?void 0:t.name}?`})]})]})]})}export{pe as default};

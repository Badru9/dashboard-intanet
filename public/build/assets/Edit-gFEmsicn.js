import{m as _,j as a}from"./app-Bvxdc6d4.js";import{c}from"./utils-dFnXFjxy.js";import{K as f,L as h}from"./chunk-4SMPYVK4-CdNnZA8Z.js";import{s as i,l}from"./chunk-7JXO3E7I-B6Z0BSsU.js";import{i as b}from"./chunk-HJTJQZF3-DHlmav6e.js";import{t as j}from"./chunk-ORPGD37S-DhA52hmi.js";import{b as p}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./chunk-SLABUSGS-BJzgDJw4.js";import"./useDialog-BatGcOah.js";import"./useFocusRing-Tguq4vMu.js";import"./VisuallyHidden-CnFoNxsa.js";import"./index-CokAva9Y.js";import"./features-animation-WuPvb1gZ.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-K6DFORPN-Wo6Y1QXR.js";function U({invoice:s,onClose:o,customers:n,packages:u}){console.log("customers",n),console.log("packages",u);const{data:r,setData:d,put:g,processing:m,errors:t}=_({customer_id:s.customer_id.toString(),package_id:s.package_id.toString(),amount:s.amount,status:s.status,due_date:s.due_date?s.due_date.split("T")[0]:null,note:s.note||""}),x=e=>{e.preventDefault(),g(route("invoices.update",s.id),{onSuccess:()=>{o()}})};return a.jsx("div",{className:"mx-auto mt-5 h-fit w-full max-w-4xl overflow-y-auto rounded-2xl bg-white text-slate-800 dark:bg-gray-900 dark:text-gray-100",children:a.jsxs("form",{onSubmit:x,className:"space-y-6 px-5 pb-5",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[a.jsx(i,{label:"Customer",id:"customer_id",selectedKeys:[r.customer_id],onChange:e=>d("customer_id",e.target.value),isInvalid:!!t.customer_id,errorMessage:t.customer_id,children:n.map(e=>a.jsx(l,{textValue:e.name,children:e.name},e.id))}),a.jsx(i,{label:"Paket",id:"package_id",selectedKeys:[r.package_id],onChange:e=>d("package_id",e.target.value),isInvalid:!!t.package_id,errorMessage:t.package_id,children:u.map(e=>a.jsxs(l,{textValue:`${e.name} - ${c(e.price)}`,children:[e.name," - ",c(e.price)]},e.id))}),a.jsx(b,{label:"Amount",type:"number",id:"amount",value:r.amount.toString(),onChange:e=>d("amount",Number(e.target.value)),isInvalid:!!t.amount,errorMessage:t.amount}),a.jsxs(i,{label:"Status",id:"status",selectedKeys:[r.status],onChange:e=>d("status",e.target.value),isInvalid:!!t.status,errorMessage:t.status,children:[a.jsx(l,{textValue:"Unpaid",children:"Unpaid"},"unpaid"),a.jsx(l,{textValue:"Paid",children:"Paid"},"paid"),a.jsx(l,{textValue:"Cancelled",children:"Cancelled"},"cancelled")]}),a.jsx(f,{label:"Due Date",id:"due_date",value:r.due_date?h(r.due_date):null,onChange:e=>d("due_date",e?`${e.year}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`:null),isInvalid:!!t.due_date,errorMessage:t.due_date,selectorButtonPlacement:"start"}),a.jsx(j,{label:"Note",id:"note",value:r.note,onChange:e=>d("note",e.target.value),isInvalid:!!t.note,errorMessage:t.note,className:"sm:col-span-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 pt-4",children:[a.jsx(p,{onPress:o,color:"default",children:"Batal"}),a.jsx(p,{type:"submit",disabled:m,color:"primary",children:m?"Menyimpan...":"Simpan"})]})]})})}export{U as default};

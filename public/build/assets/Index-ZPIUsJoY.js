import{t as F,X as R,Y as a,x as T,u as H,c as _,r as n,o as K,C as X,i as Y,a as q,j as e,K as G,L as J,S as k}from"./app-Bvxdc6d4.js";import{u as D,T as Q,m as z,a as $,b as B,D as W}from"./Table-DKWzgDek.js";import{A as Z}from"./AuthenticatedLayout-SnJnJ-Cj.js";import{w as ee}from"./MagnifyingGlass-vs-NybI-.js";import{P as ae}from"./PencilSimple-CW6RHKoD.js";import{I as se,a as te}from"./Trash-DhyFMmWh.js";import re from"./Create-DwuMz9-B.js";import ne from"./Edit-DzUXCyN2.js";import{$ as oe}from"./useFocusRing-Tguq4vMu.js";import{C as le}from"./chunk-K6DFORPN-Wo6Y1QXR.js";import{i as ie}from"./chunk-HJTJQZF3-DHlmav6e.js";import{b as ce}from"./chunk-KCYYJJH4-DlcP0Khl.js";/* empty css            */import"./chunk-SLABUSGS-BJzgDJw4.js";import"./index-Dwla7vdz.js";import"./useDialog-BatGcOah.js";import"./index-CokAva9Y.js";import"./useMenuTriggerState-Dz6-bjLW.js";import"./chunk-OTWYT2HS-C2vY9Zs5.js";import"./chunk-7JXO3E7I-B6Z0BSsU.js";import"./VisuallyHidden-CnFoNxsa.js";var V=F({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...R,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:a.solid.default}},{variant:"solid",color:"primary",class:{base:a.solid.primary}},{variant:"solid",color:"secondary",class:{base:a.solid.secondary}},{variant:"solid",color:"success",class:{base:a.solid.success}},{variant:"solid",color:"warning",class:{base:a.solid.warning}},{variant:"solid",color:"danger",class:{base:a.solid.danger}},{variant:"shadow",color:"default",class:{base:a.shadow.default}},{variant:"shadow",color:"primary",class:{base:a.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:a.shadow.secondary}},{variant:"shadow",color:"success",class:{base:a.shadow.success}},{variant:"shadow",color:"warning",class:{base:a.shadow.warning}},{variant:"shadow",color:"danger",class:{base:a.shadow.danger}},{variant:"bordered",color:"default",class:{base:a.bordered.default}},{variant:"bordered",color:"primary",class:{base:a.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:a.bordered.secondary}},{variant:"bordered",color:"success",class:{base:a.bordered.success}},{variant:"bordered",color:"warning",class:{base:a.bordered.warning}},{variant:"bordered",color:"danger",class:{base:a.bordered.danger}},{variant:"flat",color:"default",class:{base:a.flat.default}},{variant:"flat",color:"primary",class:{base:a.flat.primary}},{variant:"flat",color:"secondary",class:{base:a.flat.secondary}},{variant:"flat",color:"success",class:{base:a.flat.success}},{variant:"flat",color:"warning",class:{base:a.flat.warning}},{variant:"flat",color:"danger",class:{base:a.flat.danger}},{variant:"faded",color:"default",class:{base:a.faded.default}},{variant:"faded",color:"primary",class:{base:a.faded.primary}},{variant:"faded",color:"secondary",class:{base:a.faded.secondary}},{variant:"faded",color:"success",class:{base:a.faded.success}},{variant:"faded",color:"warning",class:{base:a.faded.warning}},{variant:"faded",color:"danger",class:{base:a.faded.danger}},{variant:"light",color:"default",class:{base:a.light.default}},{variant:"light",color:"primary",class:{base:a.light.primary}},{variant:"light",color:"secondary",class:{base:a.light.secondary}},{variant:"light",color:"success",class:{base:a.light.success}},{variant:"light",color:"warning",class:{base:a.light.warning}},{variant:"light",color:"danger",class:{base:a.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]});function de(t){const[m,h]=T(t,V.variantKeys),{ref:C,as:p,children:r,avatar:c,startContent:d,endContent:i,onClose:u,classNames:o,className:x,...l}=m,f=p||"div",g=H(C),O=_(o==null?void 0:o.base,x),b=!!u,E=t.variant==="dot",{focusProps:S,isFocusVisible:w}=oe(),y=n.useMemo(()=>typeof r=="string"&&(r==null?void 0:r.length)===1,[r]),j=n.useMemo(()=>!!c||!!d,[c,d]),N=n.useMemo(()=>!!i||b,[i,b]),s=n.useMemo(()=>V({...h,hasStartContent:j,hasEndContent:N,isOneChar:y,isCloseable:b,isCloseButtonFocusVisible:w}),[K(h),w,j,N,y,b]),{pressProps:U}=X({isDisabled:!!(t!=null&&t.isDisabled),onPress:u}),I=()=>({ref:g,className:s.base({class:O}),...l}),M=()=>({role:"button",tabIndex:0,className:s.closeButton({class:o==null?void 0:o.closeButton}),"aria-label":"close chip",...Y(U,S)}),L=v=>n.isValidElement(v)?n.cloneElement(v,{className:s.avatar({class:o==null?void 0:o.avatar})}):null,P=v=>n.isValidElement(v)?n.cloneElement(v,{className:_("max-h-[80%]",v.props.className)}):null;return{Component:f,children:r,slots:s,classNames:o,isDot:E,isCloseable:b,startContent:L(c)||P(d),endContent:P(i),getCloseButtonProps:M,getChipProps:I}}var A=q((t,m)=>{const{Component:h,children:C,slots:p,classNames:r,isDot:c,isCloseable:d,startContent:i,endContent:u,getCloseButtonProps:o,getChipProps:x}=de({...t,ref:m}),l=n.useMemo(()=>c&&!i?e.jsx("span",{className:p.dot({class:r==null?void 0:r.dot})}):i,[p,i,c]),f=n.useMemo(()=>d?e.jsx("span",{...o(),children:u||e.jsx(le,{})}):u,[u,d,o]);return e.jsxs(h,{...x(),children:[l,e.jsx("span",{className:p.content({class:r==null?void 0:r.content}),children:C}),f]})});A.displayName="HeroUI.Chip";var ue=A;function $e(){const{users:t,filters:m,auth:h}=G().props,{isOpen:C,onOpen:p,onOpenChange:r}=D(),{isOpen:c,onOpen:d,onOpenChange:i}=D(),{isOpen:u,onOpen:o,onOpenChange:x}=D(),[l,f]=n.useState(null),[g,O]=n.useState((m==null?void 0:m.search)||""),b=n.useMemo(()=>g?t.data.filter(s=>s.name.toLowerCase().includes(g.toLowerCase())||s.email.toLowerCase().includes(g.toLowerCase())):t.data,[t.data,g]),E=s=>{f(s),d()},S=s=>{f(s),o()},w=()=>{l&&k.delete(route("users.destroy",l.id),{onSuccess:()=>{x(),f(null)}})},y=[{header:"Nama",value:s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("img",{src:`https://ui-avatars.com/api/?name=${s.name||"User"}&background=random`,alt:s.name||"User",className:"h-full w-full object-cover"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.name||"N/A"})]})},{header:"Email",value:s=>e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.email||"N/A"})},{header:"Role",value:s=>s.is_admin===1&&e.jsx(ue,{color:"primary",children:"Admin"})},{header:"Aksi",value:s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(s),className:"cursor-pointer rounded-lg p-2 text-yellow-400 transition-colors hover:bg-yellow-400 hover:text-white",children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(s),className:"cursor-pointer rounded-lg p-2 text-red-600 transition-colors hover:bg-red-600 hover:text-white",children:e.jsx(te,{className:"h-4 w-4"})})]})}],j=s=>{O(s.target.value),k.get(route("users.index"),{search:s.target.value},{preserveState:!0,replace:!0})},N=s=>{k.get(route("users.index"),{page:s},{preserveState:!0,replace:!0})};return e.jsxs(Z,{children:[e.jsx(J,{title:"Users"}),e.jsxs("div",{className:"p-4 lg:p-8 dark:bg-gray-900",children:[e.jsx("h2",{className:"mb-5 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Pengguna"}),e.jsx("div",{className:"mb-6 flex flex-col items-center gap-4 lg:flex-row lg:items-center lg:justify-between",children:e.jsxs("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-center lg:justify-end",children:[e.jsx("div",{className:"relative w-full lg:w-auto",children:e.jsx(ie,{startContent:e.jsx(ee,{className:"h-4 w-4 text-gray-500"}),type:"text",placeholder:"Cari pengguna...",value:g,onChange:j,color:"default",variant:"bordered",radius:"md"})}),h.user.is_admin===1&&e.jsxs(ce,{onPress:p,color:"primary",children:[e.jsx(se,{className:"h-5 w-5"}),"Tambah Pengguna"]})]})}),e.jsx(Q,{data:b,column:y,pagination:{...t,last_page:t.last_page,current_page:t.current_page,onChange:N}}),h.user.is_admin===1&&e.jsxs(e.Fragment,{children:[e.jsx(z,{isOpen:C,onOpenChange:r,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs($,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(B,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Tambah User"})}),e.jsx(re,{onClose:()=>r()})]})})}),e.jsx(z,{isOpen:c,onOpenChange:i,size:"sm",children:e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen min-h-screen items-center justify-center overflow-y-auto bg-black/30",children:e.jsxs($,{className:"relative rounded-2xl bg-white p-0 dark:bg-gray-900",children:[e.jsx(B,{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit User"})}),l&&e.jsx(ne,{user:l,onClose:()=>i()})]})})}),e.jsx(W,{isOpen:u,onClose:x,onConfirm:w,title:"Hapus User",description:`Apakah Anda yakin ingin menghapus data ${l==null?void 0:l.name}?`})]})]})]})}export{$e as default};
